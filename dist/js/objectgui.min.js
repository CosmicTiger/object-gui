/*! ObjectGUI v1.0.0-alpha.0 by Matteo Bruni */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var s in n)("object"==typeof exports?exports:e)[s]=n[s]}}(this,(function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"Editor",(function(){return u}));class s{constructor(e){this.data=e,this.element=this.createElement()}}class a extends s{constructor(e,t,n,s){super(e),this.name=t,this.label=n,this.element.id="button_"+t,this.element.innerText=n,this.element.addEventListener("click",()=>s())}createElement(){return document.createElement("button")}}class i extends s{constructor(e,t,n,s,a){super(e),this.name=t,this.label=n,this.value=s,this.change=a;const i=this.element;i.id="input_"+this.name,i.value=this.value,i.addEventListener("change",()=>{this.value=this.element.value,this.change(this.value)})}createElement(){const e=document.createElement("input");return e.setAttribute("type","text"),e}}class r extends s{constructor(e,t,n,s,a){super(e),this.name=t,this.label=n,this.value=s,this.change=a;const i=this.element;i.id="input_"+this.name,i.value=null==s?void 0:s.toString(),i.addEventListener("change",()=>{this.value=parseFloat(this.element.value),this.change(this.value)})}createElement(){const e=document.createElement("input");return e.setAttribute("type","number"),e}step(e){return this.element.step=e.toString(10),this}min(e){return this.element.min=e.toString(10),this}max(e){return this.element.max=e.toString(10),this}}class l extends s{constructor(e,t,n,s,a){super(e),this.name=t,this.label=n,this.value=s,this.change=a;const i=this.element;i.id="input_"+this.name,i.checked=this.value,i.addEventListener("change",()=>{this.value=this.element.checked,this.change(this.value)})}createElement(){const e=document.createElement("input");return e.setAttribute("type","checkbox"),e}}class o extends s{constructor(e,t,n,s,a){super(e),this.name=t,this.label=n,this.value=s,this.change=a;const i=this.element;i.id="input_"+this.name,i.addEventListener("change",()=>{this.value=this.element.value,this.change(this.value)})}createElement(){return document.createElement("select")}addItem(e,t,n){const s=this.element,a=document.createElement("option"),i=s.querySelector(`[label=${n}]`);a.value=e,a.text=null!=t?t:e,a.selected=this.value===e,(null!=i?i:s).append(a)}addItemGroup(e){const t=this.element,n=document.createElement("optgroup");n.label=e,t.append(n)}}class c{static stringToRgb(e){return c.stringToRgba(e)}static hslaToRgba(e){const t=c.hslToRgb(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}static hslToRgb(e){const t={b:0,g:0,r:0},n={h:e.h/360,l:e.l/100,s:e.s/100};if(0===n.s)t.b=n.l,t.g=n.l,t.r=n.l;else{const e=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,s=2*n.l-e;t.r=c.hue2rgb(s,e,n.h+1/3),t.g=c.hue2rgb(s,e,n.h),t.b=c.hue2rgb(s,e,n.h-1/3)}return t.r=Math.floor(255*t.r),t.g=Math.floor(255*t.g),t.b=Math.floor(255*t.b),t}static stringToRgba(e){if(e.startsWith("rgb")){const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(e);return t?{a:t.length>4?parseFloat(t[5]):1,b:parseInt(t[3],10),g:parseInt(t[2],10),r:parseInt(t[1],10)}:void 0}if(e.startsWith("hsl")){const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(e);return t?c.hslaToRgba({a:t.length>4?parseFloat(t[5]):1,h:parseInt(t[1],10),l:parseInt(t[3],10),s:parseInt(t[2],10)}):void 0}{const t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=e.replace(t,(e,t,n,s,a)=>t+t+n+n+s+s+(void 0!==a?a+a:"")),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(n);return s?{a:void 0!==s[4]?parseInt(s[4],16)/255:1,b:parseInt(s[3],16),g:parseInt(s[2],16),r:parseInt(s[1],16)}:void 0}}static hue2rgb(e,t,n){let s=n;return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}}class d extends s{constructor(e,t,n,s,a){super(e),this.name=t,this.label=n,this.value=s,this.change=a;const i=this.element;i.id="input_"+this.name,i.value=this.value,this.updateStyle(i.value),i.addEventListener("change",()=>{this.value=this.element.value,this.change(this.value),this.updateStyle(this.value)})}createElement(){const e=document.createElement("input");return e.setAttribute("type","text"),e}updateStyle(e){this.element.style.backgroundColor=e;const t=this.textColor(e);void 0!==t&&(this.element.style.color=t)}textColor(e){if(void 0===e)return;const t=c.stringToRgb(e);if(!t)return;return Math.round((299*t.r+587*t.g+114*t.b)/1e3)>125?"#000":"#fff"}}class h extends s{constructor(e,t,n,s,a){super(e),this.name=t,this.title=n,this.collapsed=s,this.children=[],this.element.id=t,this.element.classList.add("editor","container");const i=document.createElement("div");i.classList.add("title");const r=document.createElement("div");r.classList.add("name");const l=document.createElement("b");l.textContent=n,r.append(l),i.append(r);const o=document.createElement("div");o.classList.add("collapse"),this.collapseButton=document.createElement("button"),this.collapseButton.type="button",this.collapseButton.addEventListener("click",()=>{this.toggleCollapse()}),o.append(this.collapseButton),i.append(o),this.element.append(i),this.childrenContainer=document.createElement("div"),this.childrenContainer.classList.add("container-content"),this.element.append(this.childrenContainer),a.append(this.element),this.setCollapse()}createElement(){return document.createElement("div")}addContainer(e,t,n=!0){return new h(this.data,`${this.name}_${e}`,t,n,this.childrenContainer)}addProperty(e,t,n,s,a){const c=document.createElement("div");c.classList.add("element");const h=document.createElement("label");let u;h.textContent=t,c.append(h);const p=`${this.name}_${e}`;switch(s){case"number":u=new r(this.data,p,t,n,a);break;case"boolean":u=new l(this.data,p,t,n,a);break;case"color":u=new d(this.data,p,t,n,a);break;case"select":u=new o(this.data,p,t,n,a);break;default:u=new i(this.data,p,t,n,a)}return void 0===n&&(u.element.value=""),c.append(u.element),this.childrenContainer.append(c),u}addButton(e,t,n){const s=new a(this.data,`${this.name}_${e}`,t,n);this.childrenContainer.append(s.element)}setCollapse(){this.collapsed?this.childrenContainer.style.display="none":this.childrenContainer.style.display="block",this.collapsed?this.collapseButton.textContent="Expand":this.collapseButton.textContent="Collapse"}toggleCollapse(){this.collapsed=!this.collapsed,this.setCollapse()}}class u{constructor(e,t,n){this.container=new h(n,e+"_editor",t+" Editor",!1,document.body),this.container.element.classList.add("editor-root"),this.customize()}top(){return this.container.element.classList.add("top"),this}bottom(){return this.container.element.classList.add("bottom"),this}left(){return this.container.element.classList.add("left"),this}right(){return this.container.element.classList.add("right"),this}theme(e){this.container.element.classList.add("editor-"+e)}customize(){}}}])}));